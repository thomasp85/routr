<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Static file serving — AssetRoute • routr</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Static file serving — AssetRoute"><meta name="description" content="A class for serving files from the server directly. The AssetRoute is
fundamentally different than the other routes provided by routr. It is
specific to httpuv and circumvents the standard dispatch entirely (the
request never enters the R process). This makes it extremely fast but also
somewhat limited as you can't pass the request through any middleware."><meta property="og:description" content="A class for serving files from the server directly. The AssetRoute is
fundamentally different than the other routes provided by routr. It is
specific to httpuv and circumvents the standard dispatch entirely (the
request never enters the R process). This makes it extremely fast but also
somewhat limited as you can't pass the request through any middleware."><meta property="og:image" content="https://routr.data-imaginist.com/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">routr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home fa-lg"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Release notes</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.data-imaginist.com/2017/introducing-routr/">Version 0.2.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Change log</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://fiery.data-imaginist.com">fiery</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://reqres.data-imaginist.com">reqres</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/thomasp85/routr"><span class="fa fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Static file serving</h1>
      <small class="dont-index">Source: <a href="https://github.com/thomasp85/routr/blob/main/R/asset_route.R" class="external-link"><code>R/asset_route.R</code></a></small>
      <div class="d-none name"><code>AssetRoute.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A class for serving files from the server directly. The <code>AssetRoute</code> is
fundamentally different than the other routes provided by routr. It is
specific to httpuv and circumvents the standard dispatch entirely (the
request never enters the R process). This makes it extremely fast but also
somewhat limited as you can't pass the request through any middleware.</p>
    </div>


    <div class="section level2">
    <h2 id="active-bindings">Active bindings<a class="anchor" aria-label="anchor" href="#active-bindings"></a></h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>at</code></dt>
<dd><p>The url path to serve the assets on</p></dd>


<dt><code>path</code></dt>
<dd><p>The path to the file or directory to serve</p></dd>


<dt><code>use_index</code></dt>
<dd><p>Should an <code>index.html</code> file be served if present when a client requests the folder</p></dd>


<dt><code>fallthrough</code></dt>
<dd><p>Should requests that doesn't match a file enter the request loop or have a 404 response send directly</p></dd>


<dt><code>html_charset</code></dt>
<dd><p>The charset to report when serving html files</p></dd>


<dt><code>headers</code></dt>
<dd><p>A list of headers to add to the response.</p></dd>


<dt><code>validation</code></dt>
<dd><p>An optional validation pattern to compare to the request headers</p></dd>


<dt><code>except</code></dt>
<dd><p>One or more url paths that should be excluded from this route</p></dd>


<dt><code>name</code></dt>
<dd><p>An autogenerated name for the asset route</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-AssetRoute-new"><code>AssetRoute$new()</code></a></p></li>
<li><p><a href="#method-AssetRoute-print"><code>AssetRoute$print()</code></a></p></li>
<li><p><a href="#method-AssetRoute-on_attach"><code>AssetRoute$on_attach()</code></a></p></li>
<li><p><a href="#method-AssetRoute-clone"><code>AssetRoute$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-AssetRoute-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Create a new AssetRoute</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/AssetRoute.html">AssetRoute</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  <span class="va">at</span>,</span>
<span>  <span class="va">path</span>,</span>
<span>  use_index <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  fallthrough <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  html_charset <span class="op">=</span> <span class="st">"utf-8"</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  validation <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  except <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>at</code></dt>
<dd><p>The url path to listen to requests on</p></dd>


<dt><code>path</code></dt>
<dd><p>The path to the file or directory on the file system</p></dd>


<dt><code>use_index</code></dt>
<dd><p>Should an <code>index.html</code> file be served if present when a
client requests the folder</p></dd>


<dt><code>fallthrough</code></dt>
<dd><p>Should requests that doesn't match a file enter the
request loop or have a 404 response send directly</p></dd>


<dt><code>html_charset</code></dt>
<dd><p>The charset to report when serving html files</p></dd>


<dt><code>headers</code></dt>
<dd><p>A list of headers to add to the response. Will be combined
with the global headers of the app</p></dd>


<dt><code>validation</code></dt>
<dd><p>A string for validating incoming requests. See
<a href="https://rdrr.io/pkg/httpuv/man/staticPath.html" class="external-link">httpuv::staticPath</a></p></dd>


<dt><code>except</code></dt>
<dd><p>One or more url paths that should be excluded from the
route. Requests matching these will enter the standard router dispatch.
The paths are interpreted as subpaths to <code>at</code>, e.g. the final path to
exclude will be <code>at</code>+<code>exclude</code></p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-AssetRoute-print"></a><div class="section">
<h3 id="method-print-">Method <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code><a class="anchor" aria-label="anchor" href="#method-print-"></a></h3>
<p>Pretty printing of the object</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">AssetRoute</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Ignored</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-AssetRoute-on_attach"></a><div class="section">
<h3 id="method-on-attach-">Method <code>on_attach()</code><a class="anchor" aria-label="anchor" href="#method-on-attach-"></a></h3>
<p>Method for use by <code>fiery</code> when attached as a plugin. Should
not be called directly. This method creates a RouteStack with the asset
route as the single route and then mounts that to the app. For more
flexibility create the RouteStack manually</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">AssetRoute</span><span class="op">$</span><span class="fu">on_attach</span><span class="op">(</span><span class="va">app</span>, on_error <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>app</code></dt>
<dd><p>The Fire object to attach the router to</p></dd>


<dt><code>on_error</code></dt>
<dd><p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated" class="external-link"><img src="figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> A function for error handling</p></dd>


<dt><code>...</code></dt>
<dd><p>Ignored</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-AssetRoute-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">AssetRoute</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://data-imaginist.com" class="external-link">Thomas Lin Pedersen</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

